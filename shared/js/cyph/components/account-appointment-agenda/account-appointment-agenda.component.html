<div fxLayout="column">
	<div
		class="quick-actions"
		fxLayoutAlign="center center"
		fxLayoutGap="9px"
		fxLayout="row"
	>
		<button
			mat-raised-button
			cyphTranslate
			color="accent"
			matTooltipPosition="above"
			routerLink="/request-appointment"
		>
			New Appointment
		</button>
		<button
			mat-raised-button
			cyphTranslate
			color="accent"
			matTooltipPosition="above"
			(click)="
				!accountDatabaseService.currentUser.value?.agseConfirmed ?
					openWindow(envService.cyphVideoUrl) :
				envService.isCordovaMobile ?
					router.navigate(['account-burner', 'video']) :
					openWindow('#account-burner/video')
			"
		>
			New Video Call Link
		</button>
	</div>
	<div fxFlex>
		<ejs-schedule
			#schedule
			currentView="Agenda"
			[eventSettings]="
				(this.accountAppointmentsService.appointmentSchedulerModels.all
					| await) || {}
			"
			[height]="((windowWatcherService.height | await) || 77) - 77"
			[readonly]="true"
			[(selectedDate)]="selectedDate"
		>
			<e-views>
				<e-view
					option="Agenda"
					[eventTemplate]="agendaEventTemplate"
				></e-view>
				<e-view option="Day"> </e-view>
				<e-view option="Month"> </e-view>
				<e-view option="Week"> </e-view>
			</e-views>
		</ejs-schedule>

		<ng-template #agendaEventTemplate let-data>
			<div class="appointment-info" fxLayout="row" fxLayoutGap="32px">
				<div fxLayout="column">
					<div class="subject">
						{{ data.Subject }}
					</div>
					<div class="description">
						{{ data.Description }}
					</div>
					<div class="time">
						{{ getTimeString(data.StartTime) }} -
						{{ getTimeString(data.EndTime) }}
					</div>
				</div>
				<div
					class="location"
					fxLayout="column"
					fxLayoutAlign="center center"
				>
					<button
						mat-raised-button
						color="accent"
						[routerLink]="data.Location"
					>
						<mat-icon>video_call</mat-icon>
					</button>
				</div>
			</div>
		</ng-template>
	</div>
</div>
