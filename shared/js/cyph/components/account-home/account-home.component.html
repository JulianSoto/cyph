<cyph-account-profile
	[home]="true"
	*ngIf="
		!envService.isMobileOS ||
			envService.isTelehealth ||
			!(accountDatabaseService.currentUser | await)?.agseConfirmed ||
			(accountSettingsService.featureFlags.messaging.watch() | await) ===
				false;
		else mobileHome
	"
></cyph-account-profile>

<ng-template #mobileHome>
	<cyph-account-contacts
		[home]="true"
		[searchMode]="(searchMode | await) === true"
		(searchBarBlur)="router.navigate([])"
	></cyph-account-contacts>
</ng-template>

<div
	*ngIf="
		envService.isMobileOS &&
		!(accountDatabaseService.currentUser | await)?.agseConfirmed
	"
>
	<a
		mat-fab
		cyphTranslate
		[class.absolute-fab]="(envService.isMobile | await) === false"
		[class.fixed-fab]="envService.isMobile | await"
		matTooltip="New Burner Chat"
		[href]="envService.cyphImUrl"
	>
		<mat-icon>chat</mat-icon>
	</a>
</div>
